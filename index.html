<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SPTS Classic Calculator</title>
  <style>
    body { background: #111; color: #eee; font-family: Arial, sans-serif; padding: 20px; position: relative; }
    h1 { color: #0ff; }
    label { display: flex; flex-direction: column; margin-top: 10px; }
    input, select { margin-top: 5px; padding: 8px; border-radius: 8px; border: none; width: 250px; transition: all 0.2s ease; }
    input:focus, select:focus { outline: 2px solid #0ff; }
    .quest-section { margin-top: 15px; padding: 10px; border: 1px solid #444; border-radius: 8px; display: flex; flex-direction: column; }
    .form-row { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 10px; }
    button { margin-top: 20px; padding: 12px 20px; background: #0ff; color: #111; font-weight: bold; border: none; border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
    button:hover { background: #0cc; }
    #result { margin-top: 20px; font-size: 18px; color: #ff69b4; white-space: pre-line; }
    .credits { position: fixed; bottom: 10px; right: 20px; font-size: 14px; color: #0ff; }
    .credits a { color: #0ff; text-decoration: none; }
    .credits a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <h1>SPTS Classic Calculator</h1>
  <div class="form-row">
    <label>Power Type:<br>
      <select id="powerType">
        <option value="fist">Fist Strength (1s/tick)</option>
        <option value="body">Body Toughness (1.25s/tick)</option>
        <option value="psychic">Psychic Power (1.5s/tick)</option>
      </select>
    </label>
    <label>Current Stat Amount:<br>
      <input type="text" id="currentStat" value="0" placeholder="Use K/M/B/T etc.">
    </label>
    <label>Required Stat Amount:<br>
      <input type="text" id="requiredStat" value="1M" placeholder="Use K/M/B/T etc.">
    </label>
    <label>Current Tokens:<br>
      <input type="text" id="tokens" value="0" placeholder="Use K/M/B/T etc.">
    </label>
    <label>Current Multiplier:<br>
      <select id="multiplier">
        <option value="1">1x</option>
        <option value="2">2x</option>
        <option value="4">4x</option>
        <option value="8">8x</option>
        <option value="16">16x</option>
        <option value="32">32x</option>
        <option value="64">64x</option>
        <option value="128">128x</option>
        <option value="256">256x</option>
        <option value="512">512x</option>
        <option value="1024">1024x</option>
        <option value="2048">2048x</option>
        <option value="4096">4096x</option>
        <option value="8192">8192x</option>
        <option value="16384">16384x</option>
        <option value="32768">32768x</option>
        <option value="65536">65536x</option>
        <option value="131072">131072x</option>
        <option value="262144">262144x</option>
        <option value="524288">524288x</option>
      </select>
    </label>
    <label>Tick Gain :<br>
      <input type="text" id="tickGain" value="1" placeholder="Use K/M/B/T etc.">
    </label>
  </div>
  <div class="quest-section">
    <h3>Daily Quests (+20 tokens each)</h3>
    <label><input type="checkbox" class="dailyQuest"> Fist Strength</label>
    <label><input type="checkbox" class="dailyQuest"> Body Toughness</label>
    <label><input type="checkbox" class="dailyQuest"> Psychic Power</label>
    <label><input type="checkbox" class="dailyQuest"> Movement Speed</label>
    <label><input type="checkbox" class="dailyQuest"> Jump Force</label>
  </div>
  <div class="quest-section">
    <h3>Weekly Quests (+100, 500, 2500 tokens per stat)</h3>
    <label><input type="checkbox" class="weeklyQuest" data-tokens="100"> Fist Strength (+100)</label>
    <label><input type="checkbox" class="weeklyQuest" data-tokens="500"> Fist Strength (+500)</label>
    <label><input type="checkbox" class="weeklyQuest" data-tokens="2500"> Fist Strength (+2500)</label>
    <label><input type="checkbox" class="weeklyQuest" data-tokens="100"> Body Toughness (+100)</label>
    <label><input type="checkbox" class="weeklyQuest" data-tokens="500"> Body Toughness (+500)</label>
    <label><input type="checkbox" class="weeklyQuest" data-tokens="2500"> Body Toughness (+2500)</label>
    <label><input type="checkbox" class="weeklyQuest" data-tokens="100"> Psychic Power (+100)</label>
    <label><input type="checkbox" class="weeklyQuest" data-tokens="500"> Psychic Power (+500)</label>
    <label><input type="checkbox" class="weeklyQuest" data-tokens="2500"> Psychic Power (+2500)</label>
  </div>
  <button onclick="calculateTime()">Calculate</button>
  <div id="result"></div>
  <div class="credits"><a href="https://skyabc.me" target="_blank">made by sky!!</a></div>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/decimal.js/10.4.3/decimal.min.js"></script>
  <script>
    const multiplierCosts = {
      2:100,4:200,8:500,16:1000,32:2000,64:5000,128:10000,256:15000,
      512:20000,1024:50000,2048:100000,4096:200000,8192:500000,16384:1000000,
      32768:2000000,65536:5000000,131072:10000000,262144:20000000,524288:50000000
    };
    const tickSpeeds = {fist:1,body:1.25,psychic:1.5};

    function parseValue(str) {
      str = str.trim().toUpperCase();
      let multiplier = new Decimal(1);
      if (str.endsWith("K")) { multiplier = new Decimal(1e3); str = str.slice(0,-1); }
      else if (str.endsWith("M")) { multiplier = new Decimal(1e6); str = str.slice(0,-1); }
      else if (str.endsWith("B")) { multiplier = new Decimal(1e9); str = str.slice(0,-1); }
      else if (str.endsWith("T")) { multiplier = new Decimal(1e12); str = str.slice(0,-1); }
      else if (str.endsWith("QA")) { multiplier = new Decimal(1e15); str = str.slice(0,-2); }
      else if (str.endsWith("QI")) { multiplier = new Decimal(1e18); str = str.slice(0,-2); }
      else if (str.endsWith("SX")) { multiplier = new Decimal(1e21); str = str.slice(0,-2); }
      return new Decimal(str).times(multiplier);
    }

    function formatNumber(num) {
      num = new Decimal(num);
      if (num.gte(1e21)) return num.div(1e21).toFixed(2)+'Sx';
      if (num.gte(1e18)) return num.div(1e18).toFixed(2)+'Qi';
      if (num.gte(1e15)) return num.div(1e15).toFixed(2)+'Qa';
      if (num.gte(1e12)) return num.div(1e12).toFixed(2)+'T';
      if (num.gte(1e9)) return num.div(1e9).toFixed(2)+'B';
      if (num.gte(1e6)) return num.div(1e6).toFixed(2)+'M';
      if (num.gte(1e3)) return num.div(1e3).toFixed(2)+'K';
      return num.toString();
    }

    function calculateTime() {
      let powerType = document.getElementById('powerType').value;
      let tickSpeed = new Decimal(tickSpeeds[powerType]);
      let currentStat = parseValue(document.getElementById('currentStat').value);
      let requiredStat = parseValue(document.getElementById('requiredStat').value);
      let tokens = parseValue(document.getElementById('tokens').value);
      let multiplier = new Decimal(document.getElementById('multiplier').value);
      let tickGain = parseValue(document.getElementById('tickGain').value);

      let dailyBonus = document.querySelectorAll('.dailyQuest:checked').length*20;
      let weeklyBonus = 0;
      document.querySelectorAll('.weeklyQuest:checked').forEach(cb=>{
        weeklyBonus += parseInt(cb.getAttribute('data-tokens'));
      });

      let elapsed = new Decimal(0);
      let nextMinute = new Decimal(60);
      let nextDay = new Decimal(86400);
      let nextWeek = new Decimal(604800);

      while (currentStat.lt(requiredStat)) {
       
        let needed = requiredStat.minus(currentStat).div(tickGain);
        if (needed.lte(0)) break;

        
        currentStat = currentStat.plus(tickGain.times(needed));
        elapsed = elapsed.plus(tickSpeed.times(needed));

        
        while (elapsed.gte(nextMinute)) { tokens = tokens.plus(5); nextMinute = nextMinute.plus(60); }
        while (elapsed.gte(nextDay)) { tokens = tokens.plus(dailyBonus); nextDay = nextDay.plus(86400); }
        while (elapsed.gte(nextWeek)) { tokens = tokens.plus(weeklyBonus); nextWeek = nextWeek.plus(604800); }

       
        let nextMulti = multiplier.times(2);
        while (multiplierCosts[nextMulti] && tokens.gte(multiplierCosts[nextMulti])) {
          tokens = tokens.minus(multiplierCosts[nextMulti]);
          multiplier = nextMulti;
          tickGain = tickGain.times(2);
          nextMulti = multiplier.times(2);
        }

        break; 
      }

      let hours = elapsed.div(3600);
      let days = hours.div(24);
      let months = days.div(30);
      let years = days.div(365);

      document.getElementById('result').innerText =
        `Time required: ${hours.toFixed(2)} hours\n`+
        `${days.toFixed(2)} days | ${months.toFixed(2)} months | ${years.toFixed(2)} years\n`+
        `Final Stat: ${formatNumber(currentStat)}\n`+
        `Tokens left: ${formatNumber(tokens)}\n`+
        `Final Multiplier: ${multiplier}x | Final Tick Gain: ${formatNumber(tickGain)} per tick`;
    }
  </script>
</body>
</html>
